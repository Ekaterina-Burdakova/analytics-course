<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="Aspose.Words for .NET 21.6.0" /><title>Analysis of AB testing results</title><style type="text/css">body { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; color:#182026 }h1, h2, h3, h4, h5, h6, p { margin:0pt }li, table { margin-top:0pt; margin-bottom:0pt }h1 { margin-top:12pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; line-height:13.5pt; font-family:'Times New Roman'; font-size:24pt; font-weight:bold; font-style:normal; text-transform:none; letter-spacing:0pt; color:#2f5496 }h2 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; line-height:13.5pt; font-family:'Times New Roman'; font-size:18pt; font-weight:bold; font-style:normal; text-transform:none; letter-spacing:0pt; color:#2f5496 }h3 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; line-height:13.5pt; font-family:'Times New Roman'; font-size:14pt; font-weight:bold; font-style:normal; text-transform:none; letter-spacing:0pt; color:#1f3763 }h4 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; line-height:13.5pt; font-family:'Times New Roman'; font-size:12pt; font-weight:bold; font-style:normal; text-transform:none; letter-spacing:0pt; color:#2f5496 }h5 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; line-height:13.5pt; font-family:'Times New Roman'; font-size:10pt; font-weight:bold; font-style:normal; text-transform:none; letter-spacing:0pt; color:#2f5496 }h6 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; line-height:13.5pt; font-family:'Times New Roman'; font-size:8pt; font-weight:bold; font-style:normal; text-transform:none; letter-spacing:0pt; color:#1f3763 }.CodeMirrorpre { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.anyParagraph { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.jp-OutputArea-childjp-OutputArea-output { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.jp-RenderedHTMLCommonanynth-last-child1 { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.jp-RenderedHTMLCommonh1nth-child1 { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.jp-RenderedHTMLCommonh2nth-child1 { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.jp-RenderedHTMLCommonp { text-align:left; line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.jp-RenderedHTMLCommonpre { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }.jp-RenderedTextpre { line-height:13.5pt; font-family:'Segoe UI'; font-size:10.5pt; font-weight:normal; text-transform:none; letter-spacing:0pt; color:#182026 }span.Heading1Char { font-family:'Calibri Light'; font-size:16pt; color:#2f5496 }span.Heading2Char { font-family:'Calibri Light'; font-size:13pt; color:#2f5496 }span.Heading3Char { font-family:'Calibri Light'; font-size:12pt; color:#1f3763 }span.Heading4Char { font-family:'Calibri Light'; font-style:italic; color:#2f5496 }span.Heading5Char { font-family:'Calibri Light'; color:#2f5496 }span.Heading6Char { font-family:'Calibri Light'; color:#1f3763 }span.highlightc1 { font-style:italic }span.highlightk { font-weight:bold }span.highlightkc { font-weight:bold }span.highlightkn { font-weight:bold }span.highlighto { font-weight:bold }span.highlightow { font-weight:bold }span.jp-RenderedTextpreansi-bold { font-weight:bold }.jp-OutputArea-outputjp-RenderedHTMLCommontable {  }</style></head><body><div><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt; line-height:21pt"><span class="any" style="font-size:21pt; font-weight:bold; letter-spacing:normal">Анализ результатов А/B тестирования </span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Наша задача — провести оценку результатов A/B-теста. В вашем распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Необходимо:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">оценить корректность проведения теста;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:10.5pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">проанализировать результаты теста.</span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Чтобы оценить корректность проведения теста, нужно проверить:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">пересечение тестовой аудитории с конкурирующим тестом,</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:5.25pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">совпадение теста и маркетинговых событий, другие проблемы временных границ теста.</span></li></ul><p class="jp-RenderedHTMLCommonh1nth-child1" style="margin-top:14.05pt; margin-right:15pt; margin-bottom:10.5pt; line-height:27pt"><span style="font-size:21pt; font-weight:bold; letter-spacing:normal">Техническое задание и описание данных</span><a href="#%D0%A2%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5-%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:21pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span class="any" style="font-weight:bold; letter-spacing:normal">Техническое задание </span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">Название теста: </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">recommender_system_test</span><span style="font-family:'Segoe UI'"> ;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">группы: А — контрольная, B — новая платёжная воронка;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">дата запуска: 2020-12-07;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">дата остановки набора новых пользователей: 2020-12-21;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">дата остановки: 2021-01-04;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">аудитория: 15% новых пользователей из региона EU;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">ожидаемое количество участников теста: 6 000;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%: </span></li></ul><p class="jp-RenderedHTMLCommonpre" style="margin-right:15pt; margin-left:21pt; line-height:125%"><span class="jp-RenderedHTMLCommoncode" style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span class="jp-RenderedHTMLCommoncode" style="font-family:'Courier New'; letter-spacing:normal">* конверсии в просмотр карточек товаров — событие product_page ,</span></p><p style="margin-right:15pt; margin-left:21pt; line-height:125%"><span class="jp-RenderedHTMLCommoncode" style="font-family:'Courier New'; -aw-import:spaces">&#xa0; </span><span class="jp-RenderedHTMLCommoncode" style="font-family:'Courier New'">* просмотры корзины — product_cart ,</span></p><p style="margin-right:15pt; margin-left:21pt; margin-bottom:5.25pt; line-height:125%"><span class="jp-RenderedHTMLCommoncode" style="font-family:'Courier New'; -aw-import:spaces">&#xa0; </span><span class="jp-RenderedHTMLCommoncode" style="font-family:'Courier New'">* покупки — purchase .</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span class="any" style="font-weight:bold; letter-spacing:normal">Описание данных </span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">ab_project_marketing_events.csv</span><span style="letter-spacing:normal"> — календарь маркетинговых событий на 2020 год.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Структура файла:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">name</span><span style="font-family:'Segoe UI'"> — название маркетингового события;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">regions</span><span style="font-family:'Segoe UI'"> — регионы, в которых будет проводиться рекламная кампания;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">start_dt</span><span style="font-family:'Segoe UI'"> — дата начала кампании;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:10.5pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">finish_dt</span><span style="font-family:'Segoe UI'"> — дата завершения кампании.</span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">final_ab_new_users.csv</span><span style="letter-spacing:normal"> — пользователи, зарегистрировавшиеся с 7 по 21 декабря 2020 года.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Структура файла:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">user_id</span><span style="font-family:'Segoe UI'"> — идентификатор пользователя;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">first_date</span><span style="font-family:'Segoe UI'"> — дата регистрации;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">region</span><span style="font-family:'Segoe UI'"> — регион пользователя;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:10.5pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">device</span><span style="font-family:'Segoe UI'"> — устройство, с которого происходила регистрация.</span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">final_ab_events.csv</span><span style="letter-spacing:normal"> — действия новых пользователей в период с 7 декабря 2020 по 4 января 2021 года.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Структура файла:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">user_id</span><span style="font-family:'Segoe UI'"> — идентификатор пользователя;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">event_dt</span><span style="font-family:'Segoe UI'"> — дата и время покупки;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">event_name</span><span style="font-family:'Segoe UI'"> — тип события;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:10.5pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">details</span><span style="font-family:'Segoe UI'"> — дополнительные данные о событии. Например, для покупок, </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">purchase,</span><span style="font-family:'Segoe UI'"> в этом поле хранится стоимость покупки в долларах.</span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">final_ab_participants.csv</span><span style="letter-spacing:normal"> — таблица участников тестов.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Структура файла:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">user_id</span><span style="font-family:'Segoe UI'"> — идентификатор пользователя;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">ab_test</span><span style="font-family:'Segoe UI'"> — название теста;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:5.25pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">group</span><span style="font-family:'Segoe UI'"> — группа пользователя.</span></li></ul><p class="jp-RenderedHTMLCommonh1nth-child1" style="margin-top:14.05pt; margin-right:15pt; margin-bottom:10.5pt; line-height:27pt"><span style="font-size:21pt; font-weight:bold; letter-spacing:normal">Загрузка данных</span><a href="#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:21pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[1]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># импорт библиотек</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pandas</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">as</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">numpy</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">as</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">np</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">matplotlib.pyplot</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">as</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">seaborn</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">as</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sns</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sns</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">set</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datetime</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">as</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">dt</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">from</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datetime</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datetime</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">timedelta</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">from</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">scipy</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">stats</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">as</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">st</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">math</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">as</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">mth</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plotly</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">from</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plotly.offline</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">init_notebook_mode</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">iplot</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightkn" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">import</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plotly.graph_objs</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">as</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">go</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[2]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">try</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">read_csv</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'https://code.s3.yandex.net/datasets/final_ab_events.csv'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pm_events</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">read_csv</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'https://code.s3.yandex.net/datasets/ab_project_marketing_events.csv'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">read_csv</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'https://code.s3.yandex.net/datasets/final_ab_new_users.csv'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">read_csv</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'https://code.s3.yandex.net/datasets/final_ab_participants.csv'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">except</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">read_csv</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'final_ab_events.csv'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pm_events</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">read_csv</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'final_ab_marketing_events.csv'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">read_csv</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'final_ab_new_users.csv'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">read_csv</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'final_ab_participants.csv'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[3]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datasets_list</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pm_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">name_list</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_events'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'pm_events'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'new_users'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'participants'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[4]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">for</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">name</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0; </span><span class="highlightow" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">in</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">zip</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datasets_list</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">name_list</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">):</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'</span><span class="highlightse" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">\033</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[1m'</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">+</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Общая информация о DataFrame'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">name</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">display</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">head</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">())</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">info</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Количество дубликатов = '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">duplicated</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sum</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">())</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Количество строк/столбцов -&gt; '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">shape</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span class="jp-RenderedTextpreansi-bold" style="font-family:'Courier New'; letter-spacing:normal">Общая информация о DataFrame user_events</span></p><table cellspacing="0" cellpadding="0" class="jp-OutputArea-outputjp-RenderedHTMLCommontable" style="border-collapse:collapse"><thead><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">user_id</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">event_dt</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">event_name</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">details</span></p></td></tr></thead><tbody><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">0</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>E1BDDCE0DAFA2679</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07 20:22:03</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>purchase</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>99.99</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">1</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>7B6452F081F49504</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07 09:22:53</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>purchase</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>9.99</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">2</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>9CD9F34546DF254C</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07 12:59:29</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>purchase</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>4.99</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">3</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>96F27A054B191457</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07 04:02:40</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>purchase</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>4.99</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">4</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>1FD7660FDF94CA1F</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07 10:15:09</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>purchase</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>4.99</span></p></td></tr></tbody></table><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">&lt;class 'pandas.core.frame.DataFrame'&gt;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">RangeIndex: 440317 entries, 0 to 440316</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Data columns (total 4 columns):</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">#</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Column</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Non-Null Count</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Dtype</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">---</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">------</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">--------------</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">-----</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">0</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">user_id</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">440317 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">1</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">event_dt</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">440317 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">2</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">event_name</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">440317 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">3</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">details</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">62740 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">float64</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">dtypes: float64(1), object(3)</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">memory usage: 13.4+ MB</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество дубликатов =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество строк/столбцов -&gt;</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">(440317, 4)</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span class="jp-RenderedTextpreansi-bold" style="font-family:'Courier New'; letter-spacing:normal">Общая информация о DataFrame pm_events</span></p><table cellspacing="0" cellpadding="0" class="jp-OutputArea-outputjp-RenderedHTMLCommontable" style="border-collapse:collapse"><thead><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">name</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">regions</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">start_dt</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">finish_dt</span></p></td></tr></thead><tbody><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">0</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>Christmas&amp;New Year Promo</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>EU, N.America</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-25</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2021-01-03</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">1</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>St. Valentine's Day Giveaway</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>EU, CIS, APAC, N.America</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-02-14</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-02-16</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">2</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>St. Patric's Day Promo</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>EU, N.America</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-03-17</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-03-19</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">3</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>Easter Promo</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>EU, CIS, APAC, N.America</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-04-12</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-04-19</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">4</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>4th of July Promo</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>N.America</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-07-04</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-07-11</span></p></td></tr></tbody></table><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">&lt;class 'pandas.core.frame.DataFrame'&gt;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">RangeIndex: 14 entries, 0 to 13</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Data columns (total 4 columns):</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">#</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Column</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Non-Null Count</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Dtype </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">---</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">------</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">--------------</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">----- </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">0</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">name</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">14 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">1</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">regions</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">14 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">2</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">start_dt</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">14 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">3</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">finish_dt</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">14 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">dtypes: object(4)</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">memory usage: 576.0+ bytes</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество дубликатов =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество строк/столбцов -&gt;</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">(14, 4)</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span class="jp-RenderedTextpreansi-bold" style="font-family:'Courier New'; letter-spacing:normal">Общая информация о DataFrame new_users</span></p><table cellspacing="0" cellpadding="0" class="jp-OutputArea-outputjp-RenderedHTMLCommontable" style="border-collapse:collapse"><thead><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">user_id</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">first_date</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">region</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">device</span></p></td></tr></thead><tbody><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">0</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>D72A72121175D8BE</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>EU</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>PC</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">1</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>F1C668619DFE6E65</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>N.America</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>Android</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">2</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2E1BF1D4C37EA01F</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>EU</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>PC</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">3</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>50734A22C0C63768</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>EU</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>iPhone</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">4</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>E1BDDCE0DAFA2679</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-07</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>N.America</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>iPhone</span></p></td></tr></tbody></table><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">&lt;class 'pandas.core.frame.DataFrame'&gt;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">RangeIndex: 61733 entries, 0 to 61732</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Data columns (total 4 columns):</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">#</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Column</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Non-Null Count</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Dtype </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">---</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">------</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">--------------</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">----- </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">0</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">user_id</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">61733 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">1</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">first_date</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">61733 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">2</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">region</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">61733 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">3</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">device</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">61733 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">dtypes: object(4)</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">memory usage: 1.9+ MB</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество дубликатов =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество строк/столбцов -&gt;</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">(61733, 4)</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span class="jp-RenderedTextpreansi-bold" style="font-family:'Courier New'; letter-spacing:normal">Общая информация о DataFrame participants</span></p><table cellspacing="0" cellpadding="0" class="jp-OutputArea-outputjp-RenderedHTMLCommontable" style="border-collapse:collapse"><thead><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">user_id</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">group</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">ab_test</span></p></td></tr></thead><tbody><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">0</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>D1ABA3E2887B6A73</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>A</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>recommender_system_test</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">1</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>A7A3664BD6242119</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>A</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>recommender_system_test</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">2</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>DABC14FDDFADD29E</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>A</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>recommender_system_test</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">3</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>04988C5DF189632E</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>A</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>recommender_system_test</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">4</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>482F14783456D21B</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>B</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>recommender_system_test</span></p></td></tr></tbody></table><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">&lt;class 'pandas.core.frame.DataFrame'&gt;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">RangeIndex: 18268 entries, 0 to 18267</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Data columns (total 3 columns):</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">#</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Column</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Non-Null Count</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">Dtype </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">---</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">------</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">--------------</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">----- </span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">0</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">user_id</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">18268 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">1</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">group</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">18268 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;</span><span style="font-family:'Courier New'; letter-spacing:normal">2</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">ab_test</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">18268 non-null</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">object</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">dtypes: object(3)</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">memory usage: 428.3+ KB</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество дубликатов =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество строк/столбцов -&gt;</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">(18268, 3)</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Оценим количество пропусков в </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">events['details']</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[5]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">-</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'details'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">count</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">shape</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">0.86</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[6]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">groupby</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'details'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">count</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[6]:</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">event_name</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">login</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">product_cart</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">product_page</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">purchase</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">62740</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Name: details, dtype: int64</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">В таблице </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">events</span><span style="letter-spacing:normal"> имеем большое количество пропусков (порядка 86%) в столбце </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">details</span><span style="letter-spacing:normal">. Данное поле несет в себе информацию о стоимости покупки и заполнено только для события </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">purchase</span><span style="letter-spacing:normal">. Т.е. пропуски абсолютно естественны.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Таким образом пропуски можно классифицировать </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">MNAR (Missing Not At Random / Отсутствует не случайно)</span><span style="letter-spacing:normal"> — пропуски зависят от данных, их нельзя отбрасывать, т.к. это приведёт к заметным искажениям</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Для дальнейшей работы потребуется изменение типов данных в следующих столбцах:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">pm_events['start_dt'], pm_events['finish_dt'], new_users['first_date']</span><span style="font-family:'Segoe UI'"> к типу данных </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">datetime64[D]</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 5.25pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">в таблице </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">user_events</span><span style="font-family:'Segoe UI'"> создадим столбец </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">event_dt_time</span><span style="font-family:'Segoe UI'">, а в стобце </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">event_dt</span><span style="font-family:'Segoe UI'"> оставим только дату.</span></li></ul><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[7]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># преобразование типов данных</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pm_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'start_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pm_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'start_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">astype</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'datetime64[D]'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pm_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'finish_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pm_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'finish_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">astype</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'datetime64[D]'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'first_date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'first_date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">astype</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'datetime64[D]'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt_time'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pd</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">to_datetime</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">format</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'%Y-%m-</span><span class="highlightsi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">%d</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> %H:%M:%S'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">astype</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'datetime64[D]'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">Вывод</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">На данном шаге познакомились с данными:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">дубликаты отсутсвуют;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">пропуски есть только в столбце </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">events['details']</span><span style="font-family:'Segoe UI'">, но носят естественный характер (не было покупки, значит нет и стоимости)</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:5.25pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">провели преобразование типов данных, в столбцах, где это потребовалось.</span></li></ul><p class="jp-RenderedHTMLCommonh1nth-child1" style="margin-top:14.05pt; margin-right:15pt; margin-bottom:10.5pt; line-height:27pt"><span style="font-size:21pt; font-weight:bold; letter-spacing:normal">Оценка корректности теста</span><a href="#%D0%9E%D1%86%D0%B5%D0%BD%D0%BA%D0%B0-%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D0%BE%D1%81%D1%82%D0%B8-%D1%82%D0%B5%D1%81%D1%82%D0%B0" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:21pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonh2nth-child1" style="margin-top:13.05pt; margin-right:15pt; margin-bottom:7.9pt; line-height:20.25pt"><span style="font-size:16pt; font-weight:bold; letter-spacing:normal">Проверка корректности ТЗ</span><a href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D0%BE%D1%81%D1%82%D0%B8-%D0%A2%D0%97" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:16pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Проверим корректность ТЗ, есть ли у нас в наличии данные для того, чтобы его выполнить</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[8]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># считаем количество записей по каждому тесту</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">groupby</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'ab_test'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">count</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[8]:</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">ab_test</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">interface_eu_test</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">11567</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">recommender_system_test</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">6701</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Name: user_id, dtype: int64</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[9]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># считаем количество записей для групп A и В для теста 'recommender_system_test'</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"ab_test == 'recommender_system_test'"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">groupby</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">count</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[9]:</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">group</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">A</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">3824</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">B</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">2877</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Name: user_id, dtype: int64</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Данные об искомом тесте </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">recommender_system_test</span><span style="letter-spacing:normal"> присутствуют 6 701 запись, разделение на группы в тесте также есть.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Далее проверим даты записей в таблице с данными о новых пользователях.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[10]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'first_date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">min</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">())</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'first_date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">max</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">())</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">2020-12-07 00:00:00</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">2020-12-23 00:00:00</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Даты регистрации в таблице с новыми пользователями соответствуют ТЗ (чуть больше на два дня, но тем не менее)</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[11]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">min</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">())</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">max</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">())</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">2020-12-07 00:00:00</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">2020-12-30 00:00:00</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Записи в таблице с событиями завершаются датой 30-12-2020. Это не хорошо, ведь у нас не все пользователи будут иметь возможность совершать события в первые 14 дней после регистрации. Теоретически это может негативно сказаться на результатах теста.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[12]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"Количество новых пользователей из Европы соствляет"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"region == 'EU'"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"Всего новых пользователей"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"15% новых пользователей из региона EU"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">15</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">*</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"region == 'EU'"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">100</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество новых пользователей из Европы соствляет 46270</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Всего новых пользователей 61733</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">15% новых пользователей из региона EU 6940.5</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Количество новых пользователей из Европы достаточно для соответствия ТЗ (более 6000)</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Более подробно оценим данные в следующих шагах пока можно предварительно отметить:</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">В целом необходимые данные присутствуют, но не в идеальном виде. В частности, недостает записей о событиях после 30.12.2020, . Плюс мы еще не проверили возможные пересечения групп, где мы можем потерять еще записи. А после этого нужно проверить сколько пользователей реально участвовала в тесте.</span></p><p class="jp-RenderedHTMLCommonh2nth-child1" style="margin-top:13.05pt; margin-right:15pt; margin-bottom:7.9pt; line-height:20.25pt"><span style="font-size:16pt; font-weight:bold; letter-spacing:normal">Время проведения</span><a href="#%D0%92%D1%80%D0%B5%D0%BC%D1%8F-%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:16pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Проверим время и географию проведения маркетинговых компаний и сравним со временем проведения нашего теста. По условию задачи набор новых пользователей проводился с 07.12.2020 по 21.12.2020 и ориентирован на регион EU, окончен тест был 04.01.2021.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Можно отметить не самое удачное время проведения теста в предверии новогодних праздников, т.к. в это время покупательская активность сезонно увеличивается.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[13]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># сравниваем периоды маркетинговых активностей со временем набора пользователей</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pm_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"start_dt&gt;datetime(2020,12,7) &amp; start_dt&lt;datetime(2020,12,21)"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[13]:</span></p><table cellspacing="0" cellpadding="0" class="jp-OutputArea-outputjp-RenderedHTMLCommontable" style="border-collapse:collapse"><thead><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">name</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">regions</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">start_dt</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">finish_dt</span></p></td></tr></thead></table><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[14]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># сравниваем периоды маркетинговых активностей с общим периодом проведения теста.</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pm_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"start_dt&gt;datetime(2020,12,7) &amp; start_dt&lt;datetime(2021,1,4)"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[14]:</span></p><table cellspacing="0" cellpadding="0" class="jp-OutputArea-outputjp-RenderedHTMLCommontable" style="border-collapse:collapse"><thead><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">name</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">regions</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">start_dt</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">finish_dt</span></p></td></tr></thead><tbody><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">0</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>Christmas&amp;New Year Promo</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>EU, N.America</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-25</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2021-01-03</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">10</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>CIS New Year Gift Lottery</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>CIS</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2020-12-30</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2021-01-07</span></p></td></tr></tbody></table><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Во время набора новых пользователей не было пересечения с маркетинговыми акциями. Однако до завершения теста имеем пересечение с одной промоакцией </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">Christmas&amp;New Year Promo</span><span style="letter-spacing:normal">, проводимой в том числе в Европе с 25 декабря 2020 по 3 января 2021.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Такого рода акция могла существенно повлиять на решении совершить покупку клиентом и на остальные ключевые метрики конверсии.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Не станем избавляться от данных за это время, но и не будем забывать об этой накладке</span></p><p class="jp-RenderedHTMLCommonh2nth-child1" style="margin-top:13.05pt; margin-right:15pt; margin-bottom:7.9pt; line-height:20.25pt"><span style="font-size:16pt; font-weight:bold; letter-spacing:normal">Проверка аудитории теста</span><a href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%B0%D1%83%D0%B4%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B8-%D1%82%D0%B5%D1%81%D1%82%D0%B0" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:16pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Проверим нет ли у нас пользователей попавших в оба теста одновременно.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[15]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># отбираем группы</span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_a</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"ab_test == 'recommender_system_test'"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_b</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"ab_test == 'interface_eu_test'"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># получаем id пользователей, попавших в обе группы </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_intersections</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">list</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">np</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">intersect1d</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_a</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_b</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Количество пользователей, попавших в обе группы = '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_intersections</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Доля пользователей, попавших в обе группы = '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_intersections</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">shape</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество пользователей, попавших в обе группы =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">1602</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Доля пользователей, попавших в обе группы =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0.09</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Получаем 1 602 пользователя участвовавших в обоих тестах. Сказать какой из тестов повлиял на их решение мы не можем, поэтому оставлять информацию о них в данных нельзя, это может исказить результаты.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[16]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># удаляем данные о пользователях попавших в оба теста</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id not in @group_intersections'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Теперь проверим нет ли пользователей, участвующих в двух группах одновременно</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[17]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># отбираем группы</span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_a</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "A"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_b</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "B"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># получаем id пользователей, попавших в обе группы </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_intersections</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">list</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">np</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">intersect1d</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_a</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_b</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Количество пользователей, попавших в обе группы = '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_intersections</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Доля пользователей, попавших в обе группы = '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_intersections</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">shape</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество пользователей, попавших в обе группы =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Доля пользователей, попавших в обе группы =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0.0</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Отлично, таких пересечений не выявлено.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Также уберем из данных записи о </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">interface_eu_test</span><span style="letter-spacing:normal">, т.к. для нашей работы они нам не нужны.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[18]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"ab_test == 'recommender_system_test'"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[18]:</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">5099</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Остались записи только 5 099 пользователях.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Проверим сколько пользователей у нас попали в каждую из групп.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[19]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Количество пользователей в группе A = '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "A"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Количество пользователей в группе B = '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "B"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Доля пользователей группы A</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0; </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">= '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "A"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">),</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Доля пользователей группы B</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0; </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">= '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "B"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">len</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">),</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество пользователей в группе A =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">2903</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Количество пользователей в группе B =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">2196</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Доля пользователей группы A</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">=</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0.57</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Доля пользователей группы B</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">=</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">0.43</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Имеется перекос по разделению пользователей на группы. В группе A пользователей больше. В идеале пользователи должны быть разделены по группам поровну. Различие составляет около 7% от общего размера данных.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Далее посмотрим сколько пользователей все - таки участвовали в тесте, т.е. совершали какие-либо действия.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[20]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># объединяем таблицы с участниками теста и событиями</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">user_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">merge</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">how</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'left'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">on</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">dropna</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">axis</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'index'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">how</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'any'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">subset</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[21]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># смотрим сколько уникальных пользователей совершали действия</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">active_users</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">nunique</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">active_users</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[21]:</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">2788</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Всего 2 788, т.е. гораздо меньше чем ожидалось в ТЗ.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Теперь итоговая проверка разделения на группы, в которой будут только те пользователи, которые участвовали в тесте.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[22]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_count_group</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">groupby</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">as_index</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightkc" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">False</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">agg</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">({</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'nunique'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">})</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">rename</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">columns</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'count'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">})</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">part_users_A</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "A"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">nunique</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">active_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">part_users_B</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">-</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">part_users_A</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_count_group</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'part'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0; </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">part_users_A</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">*</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">100</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">part_users_B</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">*</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">100</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_count_group</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'part'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_count_group</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'part'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">astype</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'str'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">+</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'%'</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_count_group</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[22]:</span></p><table cellspacing="0" cellpadding="0" class="jp-OutputArea-outputjp-RenderedHTMLCommontable" style="border-collapse:collapse"><thead><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">group</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">user_id</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">part</span></p></td></tr></thead><tbody><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">0</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>A</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2082</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>75.0%</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">1</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>B</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>706</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>25.0%</span></p></td></tr></tbody></table><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Если посмотреть на пользователей групп A и B которые реально участвовали в тесте (совершали какие-либо действия), то перекос в сторону группы A становится уже огромным 75% на 25%.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">Вывод</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">На данном шаге проверили корректность теста. Были выявлены пересечения с другим тестом. Записи о пользователях попавших в оба теста пришло удалить.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Кроме этого, при проверке данных о тесте представленных для анализа выявлены серьезные проблемы, в частности:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">время и география проведения теста пересекается с маркетинговой акцией </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">Christmas&amp;New Year Promo</span><span style="font-family:'Segoe UI'">;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">количество участников теста более чем в два раза меньше чем указано в ТЗ;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:10.5pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">пользователи разделены по группам A/B теста в соотношении 75%/25% в пользу группы А. </span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="any" style="font-weight:bold; letter-spacing:normal">Таким образом, дальнейший анализ результатов теста нужно воспринимать скептически. Делать из него серьезных выводов нельзя.</span></p><p class="jp-RenderedHTMLCommonh1nth-child1" style="margin-top:14.05pt; margin-right:15pt; margin-bottom:10.5pt; line-height:27pt"><span style="font-size:21pt; font-weight:bold; letter-spacing:normal">Исследовательский анализ данных EDA</span><a href="#%D0%98%D1%81%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B9-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-EDA" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:21pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonh2nth-child1" style="margin-top:13.05pt; margin-right:15pt; margin-bottom:7.9pt; line-height:20.25pt"><span style="font-size:16pt; font-weight:bold; letter-spacing:normal">Распределение количества событий на пользователя</span><a href="#%D0%A0%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%B0-%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9-%D0%BD%D0%B0-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:16pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Посмотрим сколько в среднем событий приходится на одного пользователя в каждой из групп</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[23]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Усредненное количество событий на пользователя в группе А = '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> \</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "A"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">count</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "A"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">nunique</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(),</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Усредненное количество событий на пользователя в группе А =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">7.0</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[24]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Усредненное количество событий на пользователя в группе B = '</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> \</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "B"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">count</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "B"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">nunique</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(),</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Усредненное количество событий на пользователя в группе B =</span><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'; letter-spacing:normal">6.0</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">События распределены схоже но неравномерно, т.к. в группе А гораздо больше пользователей</span></p><p class="jp-RenderedHTMLCommonh2nth-child1" style="margin-top:13.05pt; margin-right:15pt; margin-bottom:7.9pt; line-height:20.25pt"><span style="font-size:16pt; font-weight:bold; letter-spacing:normal">Распределение числа событий по дням</span><a href="#%D0%A0%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D1%87%D0%B8%D1%81%D0%BB%D0%B0-%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9-%D0%BF%D0%BE-%D0%B4%D0%BD%D1%8F%D0%BC" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:16pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Посмотрим на распределение числа событий по дням для каждой из групп.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[25]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># создаем DataFrame event_by_date, на основнаии которого будем строить гарфик</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event_by_date</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">groupby</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">([</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">count</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">reset_index</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[26]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># строим график</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">figure</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">figsize</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">15</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">4</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sns</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">set_style</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"whitegrid"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sns</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">lineplot</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">data</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event_by_date</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">y</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">hue</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">set_xticks</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event_by_date</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">set_title</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Распределение количества событий в группах по дням'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">xticks</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">rotation</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">45</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">);</span></p><p class="jp-OutputArea-childjp-OutputArea-output" style="margin-top:3.75pt"><img src="images/Aspose.Words.dee49991-86be-446f-99b0-4174abd54581.001.png" width="899" height="316" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">наблюдается резкий рост числа событий в группе А в период с 13 по 21 декабря;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:5.25pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">30 декабря количество событий в группе B падает до нуля, а по группе A вообще нет информации.</span></li></ul><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[27]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># соберем все необходимые для дальнейшей работы данные в одну таблицу</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">participants_events</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">merge</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">how</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'left'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">on</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">dropna</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">axis</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'index'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">how</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'any'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">subset</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Чтобы попробовать объяснить этот всплеск, посмотрим на количество пользователей зарегестрировавшихся и попавших в группу А в период с 13 по 21 декабря</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[28]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"first_date &gt; datetime(2020, 12, 13) &amp; first_date &lt; datetime(2020, 12, 21) &amp; group == 'A'"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">nunique</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[28]:</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">1311</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Получается 1311 пользователей из 2082 зарегистрировались в этот промежуток времени. Т.е. больше половины. Похоже резкий всплеск связан с этим.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Если бы в этот промежуток времени пользователи распределялись между группами более равномерно, то у нас бы не было такого перекоса между группами.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Кроме того, что - то не так с данными за 29-30 декабря. Либо тест по какой - то причине закончили раньше, либо имеет место сбой при сборе данных.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Явно имеем технические проблемы при распределении пользователей и вероятно при сборе информации</span></p><p class="jp-RenderedHTMLCommonh2nth-child1" style="margin-top:13.05pt; margin-right:15pt; margin-bottom:7.9pt; line-height:20.25pt"><span style="font-size:16pt; font-weight:bold; letter-spacing:normal">Изменение конверсии в воронке</span><a href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BD%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B8-%D0%B2-%D0%B2%D0%BE%D1%80%D0%BE%D0%BD%D0%BA%D0%B5" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:16pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">На этом шаге оценим сколько пользователей "терялись" при переходе от одного шага к другому. Вначале для всех, а затем в разрезе по группам.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[29]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_total_users</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">groupby</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">nunique</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sort_values</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ascending</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightkc" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">False</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">to_frame</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">reset_index</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000">\</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">rename</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">columns</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'total_users'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">})</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">total_users</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">nunique</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_total_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'percent'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">((</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_total_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'total_users'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">total_users</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">*</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">100</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">),</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_total_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'percent'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_total_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'percent'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">astype</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'str'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">+</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'%'</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_total_users</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[29]:</span></p><table cellspacing="0" cellpadding="0" class="jp-OutputArea-outputjp-RenderedHTMLCommontable" style="border-collapse:collapse"><thead><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">event_name</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">total_users</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">percent</span></p></td></tr></thead><tbody><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">0</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>login</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2788</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>100.0%</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">1</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>product_page</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>1757</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>63.02%</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">2</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>purchase</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>850</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>30.49%</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">3</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>product_cart</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>826</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>29.63%</span></p></td></tr></tbody></table><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Только 63 % от всех залогинившихся пользователей посмотрели страницу продукта и около 30% совершили покупку. При этом судя по данным для покупки вовсе не обязательно добавлять товар в корзину.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Визуализируем наши расчеты.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[30]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">go</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Figure</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">add_trace</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">go</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Funnel</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">name</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'All Users'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">y</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_total_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_total_users</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'total_users'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">show</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="anyParagraph" style="margin-top:3.75pt; margin-right:15pt; margin-bottom:5.25pt; line-height:394pt"><span style="font-size:394pt; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedHTMLCommonp" style="margin-top:5.25pt; margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Теперь построим гарфик для иллюстрации конверсии при переходе от одного шага к другому, но уже в разрезе групп A/B.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Для начала соберем информацию о количетсве пользователей дошедших до каждого из шагов в группах A/B</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[31]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_A</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"group == 'A'"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">groupby</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">nunique</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sort_values</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ascending</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightkc" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">False</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">to_frame</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">reset_index</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000">\</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">rename</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">columns</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'count'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">})</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_B</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"group == 'B'"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">groupby</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">nunique</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sort_values</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ascending</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightkc" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">False</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">to_frame</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">reset_index</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000">\</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">rename</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">columns</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'count'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">})</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Количество пользователей на каждом шаге в табличном виде.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[32]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">pivot_table</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">index</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">columns</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">values</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">aggfunc</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'nunique'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'percent_A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">((</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_count_group</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">loc</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">*</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">100</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">),</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'percent_A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'percent_A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">astype</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'str'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">+</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'%'</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'percent_B'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">round</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">((</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'B'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_count_group</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">loc</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">*</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">100</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">),</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'percent_B'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'percent_B'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">astype</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'str'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">+</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'%'</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sort_values</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ascending</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightkc" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">False</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-OutputPrompt" style="margin-top:3.75pt; text-align:right"><span style="letter-spacing:normal">Out[32]:</span></p><table cellspacing="0" cellpadding="0" class="jp-OutputArea-outputjp-RenderedHTMLCommontable" style="border-collapse:collapse"><thead><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">group</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">A</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">B</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">percent_A</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">percent_B</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">event_name</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p></td></tr></thead><tbody><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">login</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>2082</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>706</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>100.0%</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>100.0%</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">product_page</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>1360</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>397</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>65.32%</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>56.23%</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">purchase</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>652</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>198</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>31.32%</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>28.05%</span></p></td></tr><tr><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span style="font-weight:bold">product_cart</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>631</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>195</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>30.31%</span></p></td><td style="padding:4.75pt"><p style="text-align:right; font-size:9pt"><span>27.62%</span></p></td></tr></tbody></table><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Теперь переходим к графику.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[33]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">go</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Figure</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">add_trace</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">go</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Funnel</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">name</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Group A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">y</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'count'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">add_trace</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">go</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Funnel</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">name</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Group B'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">y</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'count'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">show</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="anyParagraph" style="margin-top:3.75pt; margin-right:15pt; margin-bottom:5.25pt; line-height:394pt"><span style="font-size:394pt; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedHTMLCommonp" style="margin-top:5.25pt; margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">В первую очередь на "пирамиде" бросатеся в глаза неравномерное распределение пользователей между группами.</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">немногим менее половины клиентов после авторизации не доходят до карточки товара;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">"корзина" и "покупка" поменялись местами, значит для осуществления покупки не обязательно добавлять товар в корзину;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 5.25pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">от просмотра страницы покупки на следующий шаг попадают также только около половины пользователей с предыдущего шага.</span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">Вывод</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">В целом воронка выглядит естественно.За исключением шагов "корзина" и "покупка". Вероятно, на сайте реализована возможность покупки без добавления в корзину, но при такой реализации мы не можем однозначно выделить долю пользователей добавивших товар в корзину, но не совершивших покупку.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Также стоит отметить, что показатель конверсии оставляет желать лучшего, т.к. на каждом шаге у на отсеивается порядка половины пользователей.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[34]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># меняем строки местами</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_index</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">3</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">3</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">}</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_A</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_A</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">rename</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_index</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sort_index</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_B</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_B</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">rename</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">new_index</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sort_index</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[35]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># строим воронку</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">go</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Figure</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">add_trace</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">go</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Funnel</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">name</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Group A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">y</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'count'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">add_trace</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">go</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Funnel</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">name</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Group B'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">y</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">group_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'count'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">show</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="anyParagraph" style="margin-top:3.75pt; margin-right:15pt; margin-bottom:5.25pt; line-height:394pt"><span style="font-size:394pt; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-top:5.25pt; margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">В таком представлении воронка действительно лучше иллюстрирует некорректность теста и в целом и в обоих гурппах. Анлизировать конверсию между </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">product_page -&gt; product_cart</span><span style="letter-spacing:normal">, </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">product_cart -&gt; purchase</span><span style="letter-spacing:normal"> или даже </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">product_page -&gt; purchase</span><span style="letter-spacing:normal">, если уж корзина не обязательна, на этих данных невозможно. Т.к. нельзя однозначно сказать какое действие после product_page совершил пользователь.</span></p><p class="jp-RenderedHTMLCommonh1nth-child1" style="margin-top:14.05pt; margin-right:15pt; margin-bottom:10.5pt; line-height:27pt"><span style="font-size:21pt; font-weight:bold; letter-spacing:normal">Оценка результатов A/B тестирования</span><a href="#%D0%9E%D1%86%D0%B5%D0%BD%D0%BA%D0%B0-%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%BE%D0%B2-A/B-%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:21pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonh2nth-child1" style="margin-top:13.05pt; margin-right:15pt; margin-bottom:7.9pt; line-height:20.25pt"><span style="font-size:16pt; font-weight:bold; letter-spacing:normal">Конверсия</span><a href="#%D0%9A%D0%BE%D0%BD%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D1%8F" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:16pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Изучим кумулятивную конверсию по значимым событиям для каждой из групп. Для это вначале опишем функции по сбору кумулятивных данных и построению графиков.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[36]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">def</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulative_data</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">):</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"""</span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Функция создает DataFrame c агрегированными кумулятивными данными о пользователях по дням.</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Таким образом при вызове функции получим DataFrame, где будут находиться такие данные,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">как будто мы ежедневно считали результаты тестирования до выбранного дня включительно и сохраняли</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">их в строках таблиц.</span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"""</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># Выбираем из данных строки с заданным событием</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_filtred_event</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_name == @event'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># Создадим массив уникальных пар значений дат и групп теста </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datesGroups</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_filtred_event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">drop_duplicates</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># Соберём агрегированные кумулятивные данные о покупках по дням</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_purchase_agg</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datesGroups</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">apply</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">lambda</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_filtred_event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">np</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">logical_and</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_filtred_event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">&lt;=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_filtred_event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">==</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">agg</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">({</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'max'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'max'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'nunique'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">}),</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">axis</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sort_values</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">by</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># Соберём агрегированные кумулятивные данные о покупателях</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_buyers_agg</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datesGroups</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">apply</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">lambda</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_filtred_event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">np</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">logical_and</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_filtred_event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">&lt;=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_filtred_event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">==</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">x</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">agg</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">({</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'max'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'max'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'count'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">}),</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">axis</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sort_values</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">by</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># Объединим кумулятивные данные в одной таблице и переименуем столбцы</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">result</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_purchase_agg</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">merge</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_buyers_agg</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">on</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'event_dt'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">result</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">columns</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'visitors'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'orders'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">return</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">result</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[37]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># Соберём кумулятивные значения для анализа относительных показателей и события "просмотр карточек"</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulative_data</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'product_page'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># добавляем столбец расчета конверсии</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversion'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'orders'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'visitors'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># датафрейм с кумулятивным количеством заказов и кумулятивной выручкой по дням в группе А</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page_A</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "A"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># датафрейм с кумулятивным количеством заказов и кумулятивной выручкой по дням в группе В</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page_B</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "B"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[38]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># Функция построения сравнительного графика</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">def</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot_conversion</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">column</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">date</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">title</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ylabel</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">):</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">""" </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Функция для отображения кумулятивной конверсии в разбивке по группам</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"""</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sns</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">set_style</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"whitegrid"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">fig</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">subplots</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">figsize</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">18</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">6</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">set</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">title</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">title</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">xlabel</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'дата'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ylabel</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ylabel</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">column</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">column</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">column</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'.-'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">label</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">column</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'.-'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">label</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'B'</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ax</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">legend</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">show</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[39]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># построение графика</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot_conversion</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversion'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Кумулятивная конверсия просмотр карточек'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'кумулятивная конверсия'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-OutputArea-childjp-OutputArea-output" style="margin-top:3.75pt"><img src="images/Aspose.Words.dee49991-86be-446f-99b0-4174abd54581.002.png" width="1057" height="388" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">взглянув на график, можем отметить следующее:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">до 9 декабря в обоих группах темп роста кумулятивной конверсии в просмотр карточек рос с одинаковым темпом, и был почти равен;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">затем данный показатель в группе B колебался возле значения 1,9-2,1 до 21 декабря, а в группе A наблюдался резкий спад 14 декабря;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 5.25pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">после этого темп роста показателя кумулятивной конверсии в просмотр карточек для группы A начал значительно увеличиваться и после 21 декабря перегнал показатель группы B.</span></li></ul><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[40]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># аналогично для корзины</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulative_data</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'product_cart'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversion'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'orders'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'visitors'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart_A</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "A"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart_B</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "B"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[41]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># построение графика</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot_conversion</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversion'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Кумулятивная конверсия просмотр корзины'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'кумулятивная конверсия'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-OutputArea-childjp-OutputArea-output" style="margin-top:3.75pt"><img src="images/Aspose.Words.dee49991-86be-446f-99b0-4174abd54581.003.png" width="1057" height="388" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">теперь опишем график кумулятивной конверсии просмотра корзины:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">до 13 декабря 2020 года наблюдался стабильный рост в обоих группах;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">в дальнейшие периоды конверсии групп росли с редкими небольшими просадками (в основном в группе А);</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">рост наблюдался в целом с преобладанием кумулятивной конверсии просмотров корзины группы B над группой A со старта до 21 декабря; </span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">после 21 декабря кумулятивная конверсия просмотров корзины в группе A превысила показатель группы B;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 5.25pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">вероятно для группы </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">A</span><span style="font-family:'Segoe UI'"> 30 декабря вообще убрали корзину и оставили только быструю покупку.</span></li></ul><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[42]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># анлогично для покупки</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulative_data</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_all_data</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'purchase'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversion'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'orders'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'visitors'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase_A</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "A"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase_B</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">query</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'group == "B"'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[43]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># построение графика</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot_conversion</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversion'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Кумулятивная конверсия покупки'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'кумулятивная конверсия'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-OutputArea-childjp-OutputArea-output" style="margin-top:3.75pt"><img src="images/Aspose.Words.dee49991-86be-446f-99b0-4174abd54581.004.png" width="1063" height="388" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Для показателя кумулятивной конверсии покупок наблюдается в целом схожая тенденция:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">до 13 декабря показатель группы B немного превышает показатель группы A;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">далее конверсия покупок в группе A устанавливается на постоянном уровне около 2, а конверсия группы B резко падает 14 декабря;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 5.25pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">после чего конверсия группы B стабильно растет и с 21 декабря превосходит показатель группы A (который тоже начинает расти, но медленнее).</span></li></ul><p class="jp-RenderedHTMLCommonh2nth-child1" style="margin-top:13.05pt; margin-right:15pt; margin-bottom:7.9pt; line-height:20.25pt"><span style="font-size:16pt; font-weight:bold; letter-spacing:normal">Относительное изменение кумулятивной конверсии</span><a href="#%D0%9E%D1%82%D0%BD%D0%BE%D1%81%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5-%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D1%83%D0%BC%D1%83%D0%BB%D1%8F%D1%82%D0%B8%D0%B2%D0%BD%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BD%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B8" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:16pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Согласно ТЗ ожидается увеличение не менее чем на 10% каждой из метрик:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">конверсии в просмотр карточек товаров — событие product_page ,</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">просмотры корзины — product_cart ,</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:5.25pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">покупки — purchase .</span></li></ul><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Чтобы оценить изменения построим графики относительного изменениея конверсий группы В к группе А на каждом из шагов.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[44]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">def</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot_relative_change</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeDataA</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeDataB</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">title</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">):</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"""</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">Функция для построение относительного изменения кумулятивной конверсии между двумя группами</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightsd" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"""</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># собираем данные в одном датафрейме</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">mergedCumulativeConversions</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeDataA</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversion'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">merge</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeDataB</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversion'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">left_on</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">right_on</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">how</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'left'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">suffixes</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'B'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># задаем размер поля</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">subplots</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">figsize</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">20</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">7</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># cтроим отношение средних данных</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">mergedCumulativeConversions</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'date'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">],</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">mergedCumulativeConversions</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversionB'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">mergedCumulativeConversions</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'conversionA'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">-</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">label</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"Относительный прирост конверсии группы B относительно группы A"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">legend</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">()</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># добавляем ось X</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">axhline</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">y</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">color</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'black'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">linestyle</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'--'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">axhline</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">y</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightmf" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0.1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">color</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'grey'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">linestyle</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'--'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">axis</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">([</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">dt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datetime</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2020</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">12</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">7</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">),</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">dt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">datetime</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2020</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">12</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">29</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">),</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">-</span><span class="highlightmf" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0.3</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmf" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0.3</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">])</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># размер шрифта по оси x</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">tick_params</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">axis</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'x'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">which</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'major'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">labelsize</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">15</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">title</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">title</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">xlabel</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Дата'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plt</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">ylabel</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Кумулятивная конверсия'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[45]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># построение графика относительного изменения кумулятиной конверсии просмотра продукта</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot_relative_change</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_page_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'График относительного изменения кумулятиной конверсии просмотра продукта'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-OutputArea-childjp-OutputArea-output" style="margin-top:3.75pt"><img src="images/Aspose.Words.dee49991-86be-446f-99b0-4174abd54581.005.png" width="1214" height="446" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">в начале теста группа B превосходила группу A по показателю кумулятивной конверсии в просмотр карточек:</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">с 14 декабря наблюдается стабильное снижение показателя метрики в группе B. </span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 5.25pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">с 20 декабря группа A вырвалась вперёд, а группа B стала показывать худшие результаты по относительному показателю, которые стабильно ухудшались до окончания теста.</span></li></ul><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[46]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># построение графика относительного изменения кумулятиной конверсии просмотра корзины</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot_relative_change</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_product_cart_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'График относительного изменения кумулятиной конверсии просмотра корзины'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-OutputArea-childjp-OutputArea-output" style="margin-top:3.75pt"><img src="images/Aspose.Words.dee49991-86be-446f-99b0-4174abd54581.006.png" width="1214" height="446" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Схожую ситуацию наблюдаем и по относительному показателю просмотров корзины:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">в начале теста группа B превосходила тоже группу A;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">с 16 декабря наблюдается стабильное снижение показателя метрики в группе B;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 5.25pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">с 22 декабря группа A вырвалась вперёд, а группа B стала показывать худшие результаты по относительному показателю, которые стабильно ухудшались до окончания теста. </span></li></ul><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[47]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># построение гарфика относительного изменения кумулятиной конверсии покупок</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">plot_relative_change</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase_A</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cumulativeData_purchase_B</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'График относительного изменения кумулятиной конверсии покупок'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-OutputArea-childjp-OutputArea-output" style="margin-top:3.75pt"><img src="images/Aspose.Words.dee49991-86be-446f-99b0-4174abd54581.007.png" width="1214" height="446" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">С покупками уже ожидаемо картина аналогична, необольшая разница только в датах, когда начало происходить снижение:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">в начале теста группа B превосходила тоже группу A;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">с 15 декабря наблюдается стабильное снижение показателя метрики в группе B;</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 5.25pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">с 20 декабря группа A вырвалась вперёд, а группа B стала показывать худшие результаты по относительному показателю, которые стабильно ухудшались до окончания теста. </span></li></ul><p class="jp-RenderedHTMLCommonh2nth-child1" style="margin-top:13.05pt; margin-right:15pt; margin-bottom:7.9pt; line-height:20.25pt"><span style="font-size:16pt; font-weight:bold; letter-spacing:normal">Статистическая разница долей</span><a href="#%D0%A1%D1%82%D0%B0%D1%82%D0%B8%D1%81%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F-%D1%80%D0%B0%D0%B7%D0%BD%D0%B8%D1%86%D0%B0-%D0%B4%D0%BE%D0%BB%D0%B5%D0%B9" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:16pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Оценим статистическую значимость разницы среднего количества пользователей, совершивших значимые действия </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">product_cart</span><span style="letter-spacing:normal">, </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">product_page</span><span style="letter-spacing:normal">, </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">purchase</span><span style="letter-spacing:normal">. Согласно условию задачи, для проверки будем использовать </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">z-критерий</span><span style="letter-spacing:normal">.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Опишем функция для проверки статистической разницы долей z-критерием.</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[48]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">def</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">z_test</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">exp1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">exp2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">alpha</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">):</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p1_ev</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">loc</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">exp1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p2_ev</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">loc</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">exp2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p1_us</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_count_group</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">loc</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p2_us</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">df_count_group</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">loc</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">[</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'user_id'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">]</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p1</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p1_ev</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p1_us</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p2</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p2_ev</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p2_us</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">difference</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p1</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">-</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p2</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p_combined</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p1_ev</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">+</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p2_ev</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p1_us</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">+</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p2_us</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">z_value</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">difference</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">mth</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">sqrt</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p_combined</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">*</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">-</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p_combined</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">*</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p1_us</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">+</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">/</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p2_us</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">distr</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">st</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">norm</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">0</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p_value</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">1</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">-</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">distr</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">cdf</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">abs</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">z_value</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)))</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">*</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">2</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'Проверка для </span><span class="highlightsi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{}</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> и </span><span class="highlightsi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{}</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">, событие: </span><span class="highlightsi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{}</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">, p-значение: </span><span class="highlightsi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{p_value:.2f}</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">format</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">exp1</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">exp2</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p_value</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p_value</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">if</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">p_value</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">&lt;</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">alpha</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">):</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"Отвергаем нулевую гипотезу"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"Среднее количество пользователей дошедших до </span><span class="highlightsi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{}</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> в группах A и B значимо различается"</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">format</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">else</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"Не получилось отвергнуть нулевую гипотезу"</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">"Среднее количество пользователей дошедших до </span><span class="highlightsi" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">{}</span><span class="highlights2" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> в группах A и B значимо не различается"</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">format</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">))</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Теперь сформулируем гипотезы. Под значимым событием понимаются действия </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">product_cart</span><span style="letter-spacing:normal">, </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">product_page</span><span style="letter-spacing:normal">, </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">purchase</span><span style="letter-spacing:normal">.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">$\begin{equation*} \begin{cases} H_0 :\text{Среднее количество пользователей совершивших значимое событие в группах A и B равно}\\ H_1 :\text{Среднее количество пользователей совершивших значимое событие в группах A и B различается} \end{cases} \end{equation*}$</span></p><p class="jp-Notebookjp-Cellnotjp-mod-activejp-InputPrompt" style="text-align:right"><span style="letter-spacing:normal">In</span><span style="letter-spacing:normal">&#xa0;</span><span style="letter-spacing:normal">[49]:</span></p><p class="CodeMirrorpre" style="margin-top:10.5pt; margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">#</span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0; </span><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">уровень значимости установим равным 0,05</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">a</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightmf" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.05</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:ignore">&#xa0;</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightc1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000"># для каждого события кроме события login вызываем функуию z_test</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">for</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlightow" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">in</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">all_groups</span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">.</span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">index</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0; </span><span class="highlightk" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">if</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlighto" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">!=</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'login'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">:</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">z_test</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'A'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">'B'</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">event</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">,</span><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000"> </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">a</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="CodeMirrorpre" style="margin-right:4.2pt; margin-left:4.2pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; color:#000000; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span class="any" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">print</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">(</span><span class="highlights1" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">''</span><span class="highlightp" style="font-family:'Courier New'; letter-spacing:normal; color:#000000">)</span></p><p class="jp-RenderedTextpre" style="margin-top:3.75pt; line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Проверка для A и B, событие: product_cart, p-значение: 0.18</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Не получилось отвергнуть нулевую гипотезу</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Среднее количество пользователей дошедших до product_cart в группах A и B значимо не различается</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Проверка для A и B, событие: product_page, p-значение: 0.00</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Отвергаем нулевую гипотезу</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Среднее количество пользователей дошедших до product_page в группах A и B значимо различается</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Проверка для A и B, событие: purchase, p-значение: 0.10</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Не получилось отвергнуть нулевую гипотезу</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal">Среднее количество пользователей дошедших до purchase в группах A и B значимо не различается</span></p><p class="jp-RenderedTextpre" style="line-height:125%"><span style="font-family:'Courier New'; letter-spacing:normal; -aw-import:ignore">&#xa0;</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">Вывод</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">На данном шаге мы построили кумулятивные графики конверсий и подробно описали их.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">В целом относительные метрики показывают провальные результаты теста, целевые значения в группе B не только не увеличились на искомые 10% относительно А, а наоборот ухудшились.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Касаемо относительной конверсии по всем ключевым событиям можно сказать следующее:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">в начале теста группа B превосходила группу A по показателю кумулятивной конверсии в просмотр карточек:</span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">с 14 - 16 декабря наблюдается стабильное снижение всех показателей метрик в группе B. </span></li></ul><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin:10.5pt 15pt 10.5pt 20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">с 20 - 22 декабря группа A вырвалась вперёд, а группа B стала показывать худшие результаты по относительному показателю всех метрик, которые стабильно ухудшались до окончания теста.</span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Наблюдается статистическая разница долей групп А и B для события </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">product_page</span><span style="letter-spacing:normal">. Для остальных событий статистической разницы не обнаружено.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Необходимо выяснить что поризошло на сайте 29-30 декабря. Похоже, что проходили какие - то обновления связанные с корзиной и покупкой, как следствие группа А перестала видеть корзину, такого рода изменения могли сказаться на конверсии в группах и дополнительно исказить результаты теста</span></p><p class="jp-RenderedHTMLCommonh1nth-child1" style="margin-top:14.05pt; margin-right:15pt; margin-bottom:10.5pt; line-height:27pt"><span style="font-size:21pt; font-weight:bold; letter-spacing:normal">Общий вывод</span><a href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9-%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4" style="text-decoration:none"><span class="jp-RenderedHTMLCommonalink" style="font-size:21pt; font-weight:bold; letter-spacing:normal; color:#106ba3; display:none">¶</span></a></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Проведя исследование, можно дать рекомендацию о том, что тест </span><span class="any" style="font-weight:bold; letter-spacing:normal">необходимо продолжить </span><span style="letter-spacing:normal">. Однако следует увеличить количество пользователей в группе B.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Несмотря на то, что все целевые показатели в группе В не только не увеличились, а наоборот ухудшились относительно группы </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">А</span><span style="letter-spacing:normal">, однозначно утверждать, что тест неудачен нельзя. Показатели разнились долгое время и окончательное утверждение группы </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'; letter-spacing:normal">А</span><span style="letter-spacing:normal"> в качестве лидера по конверсии всех показателей произошло только в районе 20-22 декабря, когда в эту группу влили большое количество новых пользователей.</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">В случае принятия решения о продлении тестирования по его завершении дополнительно следует изучить данные о среднем чеке и ключевые метрики в разрезе устройств. Это может полезно, однако в рамках данного исследования такая задача не ставилась.</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">На сегодняшний день можно дополнительно дать следующие рекомендации:</span></p><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="any" style="font-weight:bold; letter-spacing:normal">Данные: </span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">пользователи в группах распределены неравномерно имется значительный перекос в пользу группы </span><span class="jp-RenderedHTMLCommonnotprecode" style="font-family:'Courier New'">А</span><span style="font-family:'Segoe UI'">75 / 25 %;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">нет данных о последней неделе теста;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:10.5pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">тест по времени пересекается с новогодней маркетинговой акцией.</span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Рекомендации:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">проверить и по возможности исправить технические алгоритмы по разделению на группы;</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:10.5pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">выяснить у ответственных сотрудников, что произошло с данными за последниюю неделю теста и что за работы происходили 29-30 декабря.</span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span class="any" style="font-weight:bold; letter-spacing:normal">Конверсия:</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="anyParagraph" style="margin-top:10.5pt; margin-right:15pt; margin-left:20.98pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">на каждом шаге мы теряем довольно большое количество пользователей (порядка половины)</span></li><li class="anyParagraph" style="margin-right:15pt; margin-left:20.98pt; margin-bottom:10.5pt; padding-left:0.02pt; font-family:serif; letter-spacing:normal; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:'Segoe UI'">оценить конверсию между корзиной и покупкой невозможно из - за особенностей сайта заказчика</span></li></ul><p class="jp-RenderedHTMLCommonp" style="margin-right:15pt; margin-bottom:10.5pt"><span style="letter-spacing:normal">Рекомендации:</span></p><p class="jp-RenderedHTMLCommonanynth-last-child1" style="margin-right:15pt; margin-bottom:5.25pt"><span style="letter-spacing:normal">Нужно подумать о "клиентском пути" на сайте, дополнительно проанализировать действия и время нахождения клиента на сайте. Довольно странно, что авторизовавшись половина клиентов даже не посмотрела товар. Возможно есть технические проблемы в целом или проблемы на каких - то устройствах.</span></p></div></body></html>